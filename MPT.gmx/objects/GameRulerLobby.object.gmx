<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>for (i=0; i&lt;=5; i++)
  BbClArr[i] = 0

if global.EMenu==2
  {
  switch global.diff
    {
    case 0: diff_str = 'Game difficulty: EZ'; break;
    case 1: diff_str = 'Game difficulty: normal'; break;
    case 2: diff_str = 'Game difficulty: hard'; break;
    case 3: diff_str = 'Game difficulty: sweaty'; break;
    default: diff_str = 'Game difficulty: WTF?!'; break;
    }
  instance_create(0,0,GameRulerLobbyHost)
  PlsArrNick[0] = global.Nick
  for (i=1; i &lt;= global.maxpl; i++)
    PlsArrNick[i] = '&lt; wait &gt;'
  PlsCount = 1
  for (i=0; i&lt;=255; i++)
    ChatArr[i] = ''
  ChatPos = 8
  ChatOff = 0
  BbClArr[0] = global.bbcl
  frag_str = 'goal limit: ' + string(global.frag)
  time_str = 'time limit: ' + string(global.timer) + ' minutes'
  }
  
else
  {
  instance_create(0,0,GameRulerLobbyListener)
  PlsArrNick[0] = '&lt; connecting &gt;'
  diff_str = ''
  PlsCount = 1
  for (i=0; i&lt;=255; i++)
    ChatArr[i] = ''
  ChatPos = 8
  ChatOff = 0
  global.maxpl = 1
  
  frag_str = 'data loading'
  time_str = 'data loading'
  }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.EMenu==2
  {
  if GameRulerLobbyHost.MessageSend = true
    {
    if string_length(GameRulerLobbyHost.MessageText)&lt;=32
      {
      ChatArr[ChatPos] = GameRulerLobbyHost.MessageText
      ChatPos++
      }
    else
      {
      ChatArr[ChatPos] = string_copy(GameRulerLobbyHost.MessageText,1,32)
      ChatPos++
      if ChatPos&gt;255
        ChatPos = 0
      ChatArr[ChatPos] = string_copy(GameRulerLobbyHost.MessageText,33,32)
      ChatPos++
      }
    if ChatPos&gt;255
      ChatPos = 0
    GameRulerLobbyHost.MessageText = ''
    GameRulerLobbyHost.MessageSend = false
    }
  if GameRulerLobbyHost.ClientSend = true
    {
    if string_length(GameRulerLobbyHost.ClientText)&lt;=32
      {
      ChatArr[ChatPos] = GameRulerLobbyHost.ClientText
      ChatPos++
      }
    else
      {
      ChatArr[ChatPos] = string_copy(GameRulerLobbyHost.ClientText,1,32)
      ChatPos++
      if ChatPos&gt;255
        ChatPos = 0
      ChatArr[ChatPos] = string_copy(GameRulerLobbyHost.ClientText,33,32)
      ChatPos++
      }
    if ChatPos&gt;255
      ChatPos = 0
    GameRulerLobbyHost.ClientText = ''
    GameRulerLobbyHost.ClientSend = false
    }  
  }
else
  {
  if GameRulerLobbyListener.MessageSend = true
    {
    if string_length(GameRulerLobbyListener.MessageText)&lt;=32
      {
      ChatArr[ChatPos] = GameRulerLobbyListener.MessageText
      ChatPos++
      }
    else
      {
      ChatArr[ChatPos] = string_copy(GameRulerLobbyListener.MessageText,1,32)
      ChatPos++
      if ChatPos&gt;255
        ChatPos = 0
      ChatArr[ChatPos] = string_copy(GameRulerLobbyListener.MessageText,33,32)
      ChatPos++
      }
    if ChatPos&gt;255
      ChatPos = 0
    GameRulerLobbyListener.MessageText = ''
    GameRulerLobbyListener.MessageSend = false
    }
  if GameRulerLobbyListener.ClientSend = true
    {
    if string_length(GameRulerLobbyListener.ClientText)&lt;=32
      {
      ChatArr[ChatPos] = GameRulerLobbyListener.ClientText
      ChatPos++
      }
    else
      {
      ChatArr[ChatPos] = string_copy(GameRulerLobbyListener.ClientText,1,32)
      ChatPos++
      if ChatPos&gt;255
        ChatPos = 0
      ChatArr[ChatPos] = string_copy(GameRulerLobbyListener.ClientText,33,32)
      ChatPos++
      }
    if ChatPos&gt;255
      ChatPos = 0
    GameRulerLobbyListener.ClientText = ''
    GameRulerLobbyListener.ClientSend = false
    }  
  }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="61">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if ChatOff&gt;0
  ChatOff--
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="60">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if ChatOff&lt;248
  ChatOff++
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_set_alpha(0.5)
draw_set_colour(0)
draw_rectangle(450,160,780,400,false)
draw_set_alpha(1)

draw_set_font(ScreenFont32)
draw_set_halign(fa_center)
draw_set_colour(c_red)
draw_text(400,32,'LOBBY')
draw_text(600,160,'CHAT')

draw_set_font(ScreenFont24)
draw_text(400,80,diff_str)
player_str = 'Players: ' + string(PlsCount) + ' / ' + string(global.maxpl)
draw_text(400,120,player_str)

draw_set_halign(fa_left)
draw_text(100,185,'Players')
for (j=0; j&lt;global.maxpl; j++)
  draw_text(100,215+j*30,string(j+1) + ': ' + PlsArrNick[j])
for (j=0; j&lt;global.maxpl; j++)
  {
  draw_set_color(BbClArr[j])
  draw_rectangle(80,220+j*30,90,230+j*30,false)
  }
  
draw_set_font(ChatFont)
draw_text(10,560,frag_str)
draw_text(10,580,time_str)

draw_set_color(c_white)
i = ChatPos - 8 - ChatOff
if i&lt;0
  i+= 256
j = 0
while j&lt;=7
  {
  draw_text(454,200+25*j,ChatArr[i])
  j++
  i++
  if i&gt;255
    i=0
  }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="27">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.EMenu==2
  {
  buffer_seek(GameRulerLobbyHost.buffer_send, buffer_seek_start, 0);
  buffer_write(GameRulerLobbyHost.buffer_send, buffer_s16, 8)
  for (i=1; i&lt;global.maxpl; i++)
    network_send_packet( GameRulerLobbyHost.PlsArrSock[i], GameRulerLobbyHost.buffer_send, buffer_tell(GameRulerLobbyHost.buffer_send) );
  network_destroy(GameRulerLobbyHost.server)
  }
else
  {
  network_destroy(GameRulerLobbyListener.client)
  global.ErrID = 4
  }
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>224</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_another_room</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>11</kind>
            <room>StartRoom</room>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
